Wed Jul  9 20:40:20 1997  Andreas Kupries  <a.kupries@westend.com>

	* generic/rot13.c): New cipher: rot. Just fore fun, not for strength.

	* doc/man.tex (chapter {Copyrights}): Updated due to changes in
	  the copyright of HAVAL. Added info about sabbatical leave in
	  japan, and associated email address.

	* generic/haval.c: updated.

	* tests/haval.test: updated.

	* generic/haval.1996/havalapp.h, haval.h, haval.c: Changes made to
	  old haval added in here too. See January 5 and 13. Retained
	  original files, with suffix '.orig'.

	* generic/haval.1996/*: Added 1996 revision of HAVAL.

	* tests/md2.test: New file, tests from RFC 1319 test suite.

	* tests/md5.test: Added tests from RFC 1321 test suite.

Mon Jul  7 18:14:43 1997  Andreas Kupries  <a.kupries@westend.com>

	* doc/man.tex (chapter {Acknowledgements}): Update.

	* generic/digest.c (CreateDecoder): Fixed wrong assignment
	  to c->writeClientData.
	  (FlushDecoder): removed superfluous '&'-operators (c->digest_buffer).
	  Both problems found by Hyoung-Gook Kimn <kiss@sunbee.co.kr>.

Tue Jun 17 19:07:42 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* win/makefile.vc (TRFOBJS): Added reflect.o, ref_opt.o.

Sun Jun 15 12:53:57 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* doc/man.tex (section {Misc.}): Added documentation of general
	  transformation command.

	* generic/registry.c (TrfInput): Tests showed multiple
	  'flush/read'. Corrected, added missing check for
	  'readIsFlushed'.
	  Remembering mask of parent channel now, for attached
	  channels. This is used to optimize away the calls to unused
	  parts of a transformation.

	* generic/ref_opt.c (SetOption): Added forgotten 'break'.
	  (CheckOptions): corrected wrong condition for mode-check
	  (attached channels). Added default mode for attached channels

	* General transformation: First tests using 'identity'.

Sat Jun 14 21:43:06 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* generic/ref_opt.c: Option processing for channel defined below.

	* generic/reflect.c: New transformation channel. Reflects the
	  requested operations up into the script level. In other words:
	  The real transformation is done by a script. DANGER: Will have
	  problems with embedded \0's if used by tcl 7.6.

Sun Jun  8 09:14:24 1997  Andreas Kupries  <aku@bluepeak.westend.com>
	
	* patches/v7.6p2: Added directory and files in it.

Sat Jun  7 18:31:55 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* doc/install.tex (chapter  {Patching the core}): Corrected
	  information about working directories of the various patch
	  files.

	* patches/v7.6p2/: New directory. The patches are the same, the
	  prepatched versions of various files not.

Sun Jun  1 12:03:58 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* ---------------- Release 1.0b3 ----------------

	* Compiled under windows, ok. Added reference to binary
	  distribution to manual.

Sat May 31 00:04:27 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* doc/install.tex: brought uptodate, some enhancements.

	* unix/configure.in: Removed references to a2 relase of tcl 8.0.

	* doc/man.tex: brought uptodate, some enhancements.

	* win/makefile.vc (BINIO): see '--enable-binio' below.

	* --------- morning ---------

	* tests went through without problems.

	* trf now compiles again, without warnings.

	* tcl 8.0b1 with patches compiles, links and tests sucessfully
	  (iocmd 8.8, 8.9 fail due to the new option '-byteorder').

	* patches/v8.0b1: Added directory and files in it. These are the
	  patches to the tcl 8.0b1 core.

	* generic/binio.c: See --enable-binio below. Added the appropriate
	  ifdefs.

	* unix/configure.in (--enable-shared): changed to
	  --disable-shared, making build of shared libraries the default
	  behaviour.
	  (--enable-binio): new option to enable compilation of 'binio'
	  command. Default: NO compilation. See commands 'binary' and
	  'fcopy' of 8.0b1 for equivalent functionality.

Fri May 30 23:49:38 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* generic/registry.c: compiles, only warnings due to unpatched
	  core remain.

	* generic/registry.c (TrfExecuteObjCmd): Added CONST to 'objv', as
	  required by new API.
	  (TrfReady): Excluded for 8.0b1, due to new notifier mechanism.
	  (TrfGetFile): Updated to new interface.
	  (TrfRegister): Updated command creation to changed interface of
	  'Tcl_CreateObjCommand'. Updated initialisation of
	  'entry->transtype', due to changed notifier.
	  (TrfWatch): Updated to changed notifier ('watchChannelProc' now
	  named 'watchProc').

Thu May 29 21:16:05 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* All files, with exception of 'unstack.c', 'binio.c' and
	  'registry.c' compile without flaws now. The named files depend
	  (partially) on the patches to the core, and the C-API to
	  channels. Near midnight, tackle them tomorrow.

	* generic/bc_opt.c (SetOption): see 'CheckOptions' below.

	* generic/zip_opt.c (CheckOptions): Removed special code to
	  transfer string to object result. See below.
	  (SetOption): changed 'long' to 'int' for 3rd arg. to 'Tcl_GetIntFromObj'.

	* generic/util.c (TrfGetChannel): Disabled this code, not required
	  anymore, see below. See Feb 11 too.

	* generic/transformInt.h (ADD_RES, RESET_RES): 8.0b1 has smoothed
	  out the problems arising from having two results (string,
	  obj). No dependency on version anymore. Definitions left in to
	  avoid immediate conversion of all affected files.

Wed May 24 22:11:25 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* doc/man.tex, install.tex: Made urls into hyperlinks, at least in
	  the HTML version of the manuals. Done in the last days.

Wed May 21 18:16:42 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* PREPARE: use newly installed 'latex2html' to generate and
	  distribute html versions of the manuals. The urls inside are
	  currently not hyperized yet.

	  -- switched from custom code to procedure now provided by
	  'makedist'.

Mon May 19 22:35:19 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* doc/man.tex, install.tex: checked with 'ispell', added new
	  message digests.

	* generic/ripemd/rmd128.c: see below.

	* generic/ripemd/rmd128.h: Made usable for AXP (64bit long's),
	  added unique prefix to function names. Added tcl.h, _ANSI_ARGS_
	  to let it compile for K&R too.

	* tests/rmd128.test: see below.

	* win/makefile.vc (TRFOBJS): see below.

	* unix/Makefile.in (rmd128.o): see below.

	* generic/init.c: see below.

	* generic/rmd128.c: Added message digest RIPEMD-128.

Thu May 15 20:32:49 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* generic/ripemd/rmd160.c: see below.

	* generic/ripemd/rmd160.h: Made usable for AXP (64bit long's),
	  added unique prefix to function names. Added tcl.h, _ANSI_ARGS_
	  to let it compile for K&R too.

	* win/makefile.vc (TRFOBJS): see below.

	* tests/rmd160.test: see below.

	* unix/Makefile.in (rmd160.o): see below.

	* generic/init.c: see below.

	* generic/rmd160.c: Added message digest RIPEMD-160.

Sun May 11 21:36:46 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* doc/install.tex, man.tex: Adapted to made changes.

	* generic/transformInt.h: Definitions concerning DES moved to
	'loadman.h'. 

	* win/makefile.vc (TRFOBJS): Added the new files, named below.

	* unix/Makefile.in: Added rules for new files named below.

	* generic/init.c (Trf_Init): Added initializators for algorithms
	  below. 

	* generic/md2.c, rc2.c, sha1.c: New files. Glue to incorporate
	  MD2, SHA1 message digests and RC2 block cipher. All are searched
	  for in SSLeay only. WARNING: RC2 keylength is artificially
	  limited to a maximum of 1024 bytes.

	* win/makefile.vc (LIBDES): Removed this configuration
	  variable. See Feb 26 too. Superfluous now, see below.

	* generic/loadman.[ch]: new files, supercede 'libdes.c', which is
	  removed from the distribution now. This manager allows for
	  individual loading of functionality from a variety of
	  libraries. Currently uses 'libcrypto.so' (SSLeay) and
	  'libdes.so' only.

Sat May 10 21:56:46 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* first step to change from 'libdes' over to 'SSLeay' ('libcrypto').

	* generic/zlib.c, libdes.c: Changed to use the new functionality
	  described below.

	* generic/load.c: New file. Used last the 2 functions of
	  'imgInit.c' (Img library, Jan Nijtmans) to factor out the common
	  components of loading a shared library.

Mon Mar 17 18:18:05 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* unix/Makefile.in (distclean): removed 'patchlevel.h' from
	  command, is part of distribution now.

	* patches/v8.0a2/tclIO.c (Tcl_GetHostByteorder): Had superfluous
	  'chan'-argument, despite correction in the patch.

Thu Mar  6 20:13:55 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* Integrated patch send by Jan. Description:

	  "Further on, I improved the test for the need of _eprintf.o,
	  because I noted that sometimes _eprintf.o is included when it is
	  not needed at all. Finally I implemented the LD_LIBRARY_PATH
	  environment variable in tclLoadAout.c, such that it works the
	  same as on other machines. See patches below. Both of these
	  improvements are already in the current Img1.0b1, but they are
	  useful in Trf as well."

Sun Mar  2 11:27:49 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* PORTING: new file. database of porting notes, hints, tricks,
	  etc.

	* generic/idea/idea.c (MulInv): Fred Meyer (fred@sga.co.za) had a
	  problem with IDEA on its DEC Alpha. Tracked down to this
	  procedure. Must not be compiled with -O, -O2 or higher. The
	  overoptimized code will return 0 for many arguments, resulting
	  in a bad decryption key. The option -O1 is possible though.

Sat Mar  1 15:50:50 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* generic/binio.c (READ_CHUNK_SIZE): allow redefinition of value
	  via makefile!. Default bumped up to 16k (4k before).

	* PREPARE: see below, generate uncompressed digest files.

	* tests/________: removed '-z', expect uncompressed digest files
	  (More space required, but less dependencies (zlib)).

	* generic/registry.c: Bugfix in 'TrfInput' (-> Feb 14) caused
	  the system to call read-flush twice. Noted due to doublesized
	  results for message digests. New flag 'readIsFlushed' to prevent
	  this.

	* doc/install.tex: Complete.

	* generic/registry.c (TrfInput): fixed bug regarding calculation
	  of bytes to move down via 'memmove' (operands were in wrong order).

Wed Feb 26 18:31:50 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* win/makefile.vc (LIBDES): new configuration variable. allows
	  usage of win32 binary distribution of SSLeay.

	* tools/ldAout.tcl: integrated patch containing small
	  bugfixes. Sent by Jan.

	* doc/install.tex: new installation manual, nearly complete now.

	* added directory 'zlib.vc'. Contains everything to compile zlib
	  as shared library under windows (MSVC++ 4.2).

	* reorganized 'patches' directory. Every version of tcl got its
	  own subdir.

Tue Feb 25 22:38:18 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* generic/sha/sha.[ch]: renamed typedef'd LONG to UINT32. Avoids
	  collision with definition made by Windows. SHA finally ok under
	  windows (see Feb 15 too).

Sun Feb 23 18:46:33 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* generic/idea/idea.h: see below.

	* generic/sha/sha.h: Added check for compilation on DEC Alphas,
	  define LONG accordingly.

Thu Feb 20 21:27:32 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* generic/zlib.c (Z_LIB_NAME): Default is 'zlib.dll' now.

	* win/makefile.vc (install): protect 'md' with -@ against errors
	  (directory maybe in existence already).

	* tests/binio.test: added 'fconfigure -translation binary' to 1.8

Sat Feb 15 22:58:32 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* tests/sha.test: don't execute 'sha-2.2' under windows. Uses
	  'cat' to beef up a 1000 character file to 1e6 characters. A more
	  portable method is required to do this. 

	* tests/binio.test: spots using '/dev/null' rewritten, removed
	  dependency on un*x.

	* generic/b64code.c: see below, same thing.

	* generic/uucode.c: added explicit casts to all array
	  initializers, MSVC was not unable to comprehend that they are
	  'char's or to convert them into such, at least silently.

	* generic/blowfish.c (BC_Schedule): added explicit casts from 'int'
	  to 'short'.

	* generic/sha/sha.h: avoid 2nd definition of 'typedef unsigned
	  long LONG' under windows.

	* generic/init.c: moved TRF_EXPORT definition and usage to
	  'transform.h'.

	* generic/unstack.c: same as below.

	* generic/binio.c: 'BinioCmd' static now, with proper
	  declaration.

	* win/makefile.vc: integrated todays experiences with 'nmake'.

	* compat/tclLoadWin.c: added declaration to supress warning about
	  unknown 'TclWinConvertError'. This procedure is internal to tcl.

Fri Feb 14 19:15:46 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* win/makefile.vc: first stab at Makefile for windows. Constructed
	  from 'ftp://ftp.sunlabs.com/pub/tcl/example.zip(makefile.vc)'
	  and the makefile used by tcl itself.

	* generic/init.c: added prolog required for DLL generation under
	  windows. 

	* generic/registry.c (TrfInput, TrfOutput): Inserted usage of
	  procedures for handling complete buffers, they are prefered over
	  the single-character vectors.
	  (TrfInput): corrected logical error causing the system to loose
	  partial data at Eof on underlying channel.

Thu Feb 13 21:40:03 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* - the bunch of messages below resulted from my first try to
	  compile trf under windoof. Some other messages, not recorded
	  here, were due to the usage of an unpatched version of tcl.

	  Note: The current stage of development in using the object
	  interfaces compiles ok against 8.0a2, but NOT a1. The 'interp'
	  arguments to the used functions were removed between these
	  revisions. First thought at work: How the hell could gcc compile
	  my code, containing such a grave error as supplying to few
	  arguments to a function. Have to install 8.0a2 at work pronto.

	* compat/tclLoadWin.c: fixed some small problems in here.
	  (dlopen): corrected declaration of 'intialized', added an 'i'.
	  (UnloadLibraries): terminated 2nd declaration with ';'.
	  (dlclose, UnloadLibraries): calls to 'ckfree' required casts.

	  Had some more warnings, investigation defered to next try.

	* generic/digest.c (EncodeBuffer): signed/unsigned mismatch.

	* generic/util.c (TrfMerge4To3): The cpp's used so far don't
	  understand an empty argument to a macro. Noop '>> 0' supplied now.

	* generic/binio.c (PackCmd, 'D', 'U'): Had wrong casts here.

	* generic/registry.c (TransformImmediate): signed/unsigned mismatch.

	* generic/rc4/rc4.c (rc4_prepare_key): see below.

	* generic/asc85code.c (Encode, FlushEncoder, Decode,
	  FlushDecoder): see below.

	* generic/adler.c, crc.c, crc_zlib.c (MD_Final): added casts to
	  stop MS VC++ 4.2 from complaining about conversion problems and
	  loss of data. 

Tue Feb 11 18:46:01 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* 'binio', 'unstack' need conversion too.

	* -------------- tests ok.

	* generic/util.c (TrfGetChannel): Wrapper to 'Tcl_GetChannel'.
	  Required by objectbased commands, copies the standard result
	  into the 'objResult' of the interpreter. Automatically activated
	  in 'transformInt.h', for tcl major >= 8.

	* generic/blockcipher.c, digest.c, rs_ecc.c, zip.c: see below.

	* generic/b64code.c, octcode.c, hexcode.c, bincode.c, uucode.c,
	  asc85code.c: changed result generation from 'Tcl_AppendResult'
	  to 'ADD_RES'. 

	* 2nd iteration through files named below, changed result
	  generation from 'Tcl_AppendResult' to 'ADD_RES'.

	* generic/transformInt.h (ADD_RES): New macro. Used to build
	  command results in a version independent manner. Its definition
	  depends upon the tcl version!

	* generic/registry.c (Trf_Register): adapted validity checks to
	  changed 'Trf_OptionVectors' structure.

	* generic/templates/opt_template.c: ok.

	* generic/bc_opt.c (SetOption): ok.
	  (TrfBlockcipherOptions): ok.

	* generic/zip_opt.c (SetOption): ok.
	  (TrfZIPOptions): ok.

	* generic/c_opt.c (SetOption): ok.
	  (TrfCipherOptions): ok.

	* generic/dig_opt.c (SetOption): ok.
	  (TrfMDOptions): ok.

	* generic/convert.c (SetOption): ok.
	  (Trf_ConverterOptions): ok.

	* zipt_opt.c, dig_opt.c, bc_opt.c, c_opt.c, convert.c: adaption to
	  object interfaces required here!

	* generic/transform.h (Trf_OptionVectors): added 'setObjProc' to
	  structure. 
	  /* ********* POTENTIAL INCOMPATIBILITY at C-level ********* */

	* generic/transform.h: New prototype 'Trf_SetObjOption'. Object
	  equivalent to 'Trf_SetOption'. Use VOID for Tcl_Obj if compiled
	  against tcl major version below 8.

	* generic/registry.c (Trf_Register): Uses 'TrfExecuteObjCmd' if possible.

	* generic/registry.c (TrfExecuteObjCmd): New function, equivalent
	  to 'TrfExecuteCmd', uses the object interfaces of tcl 8.
	  Conditional compilation removes functionality for Tcl below
	  version 8.x

Thu Feb  6 19:27:41 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* Reorg. complete, distribution running again (unix).

	* unix/Makefile: corrected MANIFEST check, removed target
	  'depend'. Removed tests for 'makedepend' from 'configure.in'.

Wed Feb  5 23:35:17 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* Reorganization for multiplatform development and use
	  (unix, mac, win). Shuffled all files around. Adapted unix
	  makefile to changes. Nothing for Mac and Windows yet.

	  Rewrote generation of distribution (PREPARE, make-tape).
	  'DESCRIPTION' now central point for version information. The
	  data obtained there is placed into all relevant files at
	  distribution time (README, LSM, ...), especially
	  'generic/transform.h' and 'generic/patchlevel.h' (former names
	  had '.in' suffixes). 'Configur'ing these files made it
	  impossible to use them for Windows/Mac development.

	  Note: 'PREPARE' is an file internal to the package. It contains
	  tcl-code preparing the package for distribution (removing
	  inofficial and/or internal files, manpage generation, ...). It
	  is not part of the distribution however.

Wed Feb  4 21:18:15 1997  Andreas Kupries  <aku@bluepeak.westend.com>

        * ======================= released 1.0b2 =======================

Fri Jan 31 18:43:29 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* libdes.c, zlib.c: use library names without path, use OS
	  facilities for searching (LD_LIBRARY_PATH, et.al).

	* tools/ldAout.tcl: search for symbols did not account for
	  capitals. Found after building libz.a without zsymbols.c

	* digest.c: had unsigned <-> signed comparison.

Thu Jan 30 22:32:45 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* compat/tclLoadShl.c (dlopen): improved error messaging for HP-UX
	  upon failed loads.

	* Makefile.in: removed superfl. targets for 'zsymbols.o' and
	  'ld_sysmbols.o'.

	* configure.in: use default (/usr/local) for prefix instead of NONE.

	* got patch from Jan fixing some minor things. see above ^.

Sun Jan 26 21:18:56 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* binio.c (FLIP (in ReorderBytes)): corrected wrong indexing in
	  first assignment.
	  (UnpackCmd): added format-length and 0-padding to hex
	  conversions (%x -> %08x, %08lx, %04x).

	* tests/binio.test: added tests for 'binio'.

Mon Jan 20 23:07:01 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* binio.c (PackCmd, UnpackCmd): use Tcl_GetChannelByteorder to
	  determine wether swapping is required or not. See entry at
	  Jan 13, -> binio.c too.

	* added *.byteorder patches. These introduce a new channel
	  attribute, the associated byteorder. It can be retrieved
	  directly and via 'fconfigure'. Setting is possible by 'fconfigure'
	  only. This is used by 'binio' to swap word information if required.

Wed Jan 15 19:07:12 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* -- all changes below by Jan Nijtmans. All of Monday, Jan 13 was
	  covered by his patch too.

	* cipher.c: See Jan 5, (XX). Some remains of same thing.

	* digest.c (DecodeBuffer, l.674): See below, this time the first
	  argument of 'memcpy'. Cause of (##) ?

	* registry.c (TrfInput, l. 683): Added () around 'trans->result +
	  toRead', some compiler (which?) choked without.

	* configure.in (line 261): SHLIB_LD_ALL must be set in all
	  cases. Without it "make libz" and "make libdes" will work on
	  Ultrix, but not on other machines. 

	* zip.c: See Jan 5, (XX). Some remains of same thing, forward
	  declarations forgotten.

Tue Jan 14 21:57:19 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* configure.in (line 259): don't bother with -ltclX.Y if not
	  running under AIX.

	* INSTALL: updated to reflect new search order.

	* configure.in: changed search order: sibling directories before
	  <prefix> paths. But commandline options (-with-tcl...) overide all.

	* all digests fail on HP A.09.04 (Bus error). Seems to be
	  something in general code (dig_opt / digest). Had no time to
	  study it further, but must be done. (##)

	* zip.c: See Jan 5, (XX). Some remains of same thing.

Mon Jan 13 21:41:33 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* haval/haval.c: Most of conversion was already done (See Jan 5),
	  with the exception of a single place (haval_tailor).

	* blowfish/blowfish.*, idea/idea.*, md5/md5.*, rc4/rc4.*: See
	  below. Most files integrated from external sources have this
	  problem.

	* sha/sha.[ch]: added <tcl.h>, _ANSI_ARGS_ (), generally conform
	  to JO's conventions for extension programming. Removed usage of
	  ##-operator too (concatenates token processed by preprocessor).

	  REASON: HP (uname -> 'A.09.04 B') choked on prototypes and the
	  like.

	* configure.in (AC_PATH_PROG(MAKEDEPEND)): see below (-> depend).
	  (sizeof int, long int): determine type sizes, required by 'binio'.

	* Makefile.in (BASE_SRC, BASE_OBJ): added 'binio'.
	  (depend): changed 'makedepend' to '@MAKEDEPEND@', let configure
	  determine its location. Use ':' if not found (as for the HP used
	  by my employer).

	* binio.c: new file and command 'binio'. Based on Jacobs
	  (Jacob.Levvy@eng.sun.com) proposal. Exception: reordering of
	  bytes (see ### BYTEORDER ###). Need a flag to tell me the
	  byteorder associated to the used channels.

        * ======================= released 1.0b1 =======================

Fri Jan 10 12:48:13 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* registry.c (TrfInput): fixed error preventing read/gets from
	  stacked channels to work properly (set trans->used to 0, then!
	  used it, argh).

	* configure.in: Added 8.0, 8.0a1 to search sequences.

	* doc/INSTALL, doc/INSTALL.optional, doc/man.tex: updated
	  dependency information.

Mon Jan  6 19:14:20 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* patches/core7.6.patch, patches/core8.0a1.patch: Added patch files
	  for tcl-core to remove dependency on plus-patches.

Sun Jan  5 22:26:46 1997  Andreas Kupries  <aku@bluepeak.westend.com>

	* --> Jan's patch integrated now.

	* Makefile.in: adapted to changes in 'configure.in'.

	* configure.in: streamlined handling of Ultrix 4.4 and other Aout
	  systems. External libraries now must have extension '.a'.

	* compat/tclLoadNone.c: changed to include all global symbols
	  exported by libz and libdes resp. This forces static linkage on
	  systems not supporting dynamic loading.

	* haval/haval.h, haval/haval.c: changed header prototypes to
	  _ANSI_ARGS_-notation of Tcl. Changed prototypes to K&R style.

	* registry.c, unstack.c: Removed superfluous '&'s.

	* transform.h.in: const -> CONST

	* asc85code.c, b64code.c, bincode.c, hexcode.c, octcode.c,	(XX)
	  uucode.c, rs_ecc.c, blockcipher.c, digest.c:
	  I consistently used 'Trf_WriteProc fun' instead of
	  'Trf_WriteProc* fun' in declarations and definitions of
	  'Create(En/De)coder'. Severe case of cut/copy/paste
	  disease. Found by an older compiler under Ultrix 4.1.

	* Back from christmas holiday. --> Integrate patch send by Jan at
	  Dec 20, 1996. 

Wed Dec 18 18:46:58 1996  Andreas Kupries  <aku@bluepeak.westend.com>

        * ======================= released 1.0a3 =======================
	
	* PREPARE: change title of MANIFEST.

	* Makefile.in (distclean): removed MANIFEST from list.

Tue Dec 17 17:35:13 1996  Andreas Kupries  <aku@bluepeak.westend.com>

	* transform.h.in, c_opt.c, rc4.c, templates/c_template.c: extended
	  interface analogously to message digests, blockcipher to allow
	  dynamic loading. RC4 does not require this, but later
	  functionality might do.

	* Makefile.in (depend): added -D___MAKEDEPEND___, see below.

	* transformInt.h: use ___MAKEDEPEND__ to hide 'zlib.h', 'des.h'
	  during makedepend runs.

	* tests/sha.test: see below, added expansion of file 'sha.test.vec'.

	* tests/sha.test.vec: reduced from 1e6 bytes to 1000 bytes. Will
	  be blown up at test time! Should reduce distribution size
	  about 100 K.

	* doc/INSTALL.optional: new file, instructions and comments
	  related to building shared libraries for ZLIB and
	  LIBDES. --==** Important **==--.

	* compat/ld_symbols.c: see below, copied and modified. valid for
	  libdes 3.23.

	* compat/zsymbols.c: new file, contains functionality to enable
	  dyn. loading for a.out (Ultrix). Got from Jan. Valid for zlib 1.0.4.

	* transformInt.h: HAVE_LIBDES_H -> HAVE_DES_H.

	* compat/tclLoadNone.c, compat/_eprintf.c: new files, for systems
	  without dyn. loading, and to avoid problems with gcc and
	  assert. Send in by Jan.

	* compat/tclLoadAout.c: new version from Jan, had problems on
	  Ultrix due to some unknown symbols.

	* sha/sha.c (sha_final): removed superfluous '&' (sha_info->data,
	  lines 170, 175, 177).

	* registry.c (TrfWatch): removed 'return' in void-procedure. Why
	  did 'gcc -Wall' did not complain?

Mon Dec 16 18:29:27 1996  Andreas Kupries  <aku@bluepeak.westend.com>

	* des.c, bc_opt.c, transformInt.h, libdes.c: LIBDES will be loaded
	  on demand now. Removed from distribution.

	* ZLIB removed from distribution, will be loaded if required
	  (commands: adler, crc-zlib, zip).

	* adler.c, crc_zlib.c (MD_Check): checkProc searches and loads
	  'libz'.

	* sha.c, md5.c, crc.c, haval.c: no checkProc required.

	* dig_opt.c (checkOptions): Calls 'checkProc' now.

	* transform.h.in: Extended interface to digests (Trf_MDCheck, checkProc).

	* zip_opt.c (checkOptions): load libz here.

	* Makefile.in (zlib): new target to make libz.

	* configure.in: added code to enable generation of libz as shared
	  library.

Sat Dec 14 19:17:56 1996  Andreas Kupries  <aku@bluepeak.westend.com>

	* integrated information from patch (*2) into configure.in and
	  Makefile.in. New directory 'compat' with dll-loading code for
	  various OS (taken from tcl).

	* blowfish/blowfish.c (Blowfish_decipher): changed assignments
	  'Xl = *xl', 'Xr = *xr' to 'Xl.word = *xl', 'Xr.word = *xr'. The
	  assigment to the union was accepted by gcc, but not Ultrix 4.4, cc3.0.

	* blowfish/bf_tab.h: The '\'s introduced by Jans patch (see *1)
	  got through the Ultrix 4.4, cc3.0 preprocessor and let the
	  compiler bark. Removed now.

	* blockcipher.c, bc_util.c, cipher.c, blowfish.c. zip.c: see below.

	* md5.c, haval.c, sha.c (MD_Update(Buf), MD_Final): see below.

	* digest.c: all allocs now cast to the correct type (there were
	  some casts missing, causing ULTRIX 4.4, cc3.0 to barf).

	* hexcode.c, octcode.c, bincode.c: encode uses table-lookup now,
	  no more bitfiddling.

Wed Dec 11 20:54:10 1996  Andreas Kupries  <aku@bluepeak.westend.com>

	* zip.c, rs_ecc.c: Done too.

	* Got patch from Jan Nijtmans (*2) to load arbitrary dynamic
	  libraries, enabling me to remove 'zlib' and 'libdes' from
	  distribution. Integration defered until all and everything is
	  updated to handle character buffers.

	* blockcipher.c: Updated to handle character buffers as well.

Tue Dec 10 21:22:02 1996  Andreas Kupries  <aku@bluepeak.westend.com>

	* md5.c, crc.c, crc_zlib.c, haval.c: All updated to handle buffers
	  containing more than one character. For speedups see doc/speed/*

	* sha.c (MD_UpdateBuf): New procedure to handle a buffer of
	  characters. Depending on input-size 'sha' is now ~2-3 times as
	  fast.

	* digest.c (Encode-, Decodebuffer): New procedures to convert
	  complete buffers. Use a procedure to convert a buffer of
	  characters, if defined by the digest.

	* registry.c (TransformImmediate): read 4K chunks of characters
	  now, instead one by one. Use a procedure to convert a buffer of
	  characters, if defined by the transformation.
	  
Thu Dec  5 20:19:31 1996  Andreas Kupries  <aku@bluepeak.westend.com>

        * ======================= released 1.0a2 =======================
	
	* The last changes reworked the package installation to conform to
	  the new standard set by the core: library and package index go
	  into a subdirectory of the library directory (making it a
	  sibling to tclX.Y).

	* Makefile.in (EXTENSION): set to Trf, the official name of this extension.
	  (LIB_RUNTIME_DIR): use EXTENSION, VERSION to determine complete path.
	  (install): target 'install-package' removed.
	  (install-lib): install package index too.

	* got a patch from Jan Nijtmans <nijtmans@nici.kun.nl> (*1):

	- Addition of LIB_RUNTIME_DIR (needed for Solaris, otherwise
	  the custom tclsh cannot find libtrf1.0.so at run-time.)
	- Changed pkgIndex.tcl such that the library is only loaded
	  when one of the commands are used for the first time
	  (like memchan).
	- Add a Tcl_StaticPackage() call in tclAppInit.c
	- blowfish/bf_tab.h needs to be devided into 4 blocks with
	  {}'s around it, otherwise a warning is given (gcc -Wall (aku)).

Wed Dec  4 20:18:20 1996  Andreas Kupries  <aku@bluepeak.westend.com>

	* registry.c (TrfWatch): now forwards request to parent too.

Tue Dec  3 22:38:05 1996  Andreas Kupries  <aku@bluepeak.westend.com>

	* digest.c: fixed problem regarding to 'XX->dest'. NULL's were not
	  handled. Tripped by new 'TrfClose' in registry.c

	* tests:  These were changed too, to use 'unstack $XX' instead of
	  'transform remove $XX head'.

	* registry.c: Twiddled with it the last 2 days to use the simpler
	  Tcl_ReplaceChannel API, as propossed by J.Nijtmans. Now the package
	  again compiles, links and passes all tests. // This is a branch //

Wed Oct 16 21:59:39 1996  Andreas Kupries  <aku@bluepeak.oche.de>

	* tools/md: new example for generation and check of message
	  digests. supersedes example 'md5sum'. independent of external
	  script libraries.

Tue Oct 15 00:06:20 1996  Andreas Kupries  <aku@bluepeak.oche.de>

	* init.c (Trf_Init): register new digests.

	* adler32.c, crc32.c: added message digests algorithm contained in
	  zlib as separate commands.

	* templates/cvt_template.c: see below.

	* templates/opt_template.c: fixed errors in template
	  (clientData).

	* init.c (Trf_Init): register compressor.

	* doc/man.tex: added description of "zip"-command, extended
	  chapter containing the references to external copyrights.

	* zip_opt.c: option processor for compressor.

	* zip.c: added compressor based on zlib library (authors:
	  Jean-Loup Gailly (gzip@prep.ai.mit.edu)
          Mark Adler (madler@alumni.caltech.edu)).

Mon Oct  7 22:55:44 1996  Andreas Kupries  <aku@bluepeak.oche.de>

	* Module ready for delivery. Starting official log now.

